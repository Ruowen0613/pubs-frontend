<h2 style="text-align: center;">Add New Author</h2>

<form [formGroup]="addAuthorForm" (ngSubmit)="saveAuthor()">
    <mat-form-field appearance="fill" class="custom-form-field">
        <mat-label>ID</mat-label>
        <input matInput formControlName="au_id" maxlength="12" [pattern]="'[0-9]{3}-[0-9]{2}-[0-9]{4}'">
        <mat-error *ngIf="addAuthorForm.controls['au_id'].invalid && (addAuthorForm.controls['au_id'].dirty || addAuthorForm.controls['au_id'].touched)">
          <ng-container *ngIf="addAuthorForm.controls['au_id']?.errors?.['required']">ID is required.</ng-container>
          <ng-container *ngIf="addAuthorForm.controls['au_id']?.errors?.['pattern']">ID must be in the format xxx-xx-xxxx.</ng-container>
        </mat-error>
      </mat-form-field>
      <mat-form-field appearance="fill">
        <mat-label>Last Name</mat-label>
        <input matInput formControlName="au_lname">
        <mat-error *ngIf="addAuthorForm.controls['au_lname'].invalid && (addAuthorForm.controls['au_lname'].dirty || addAuthorForm.controls['au_lname'].touched)">
          <ng-container *ngIf="addAuthorForm.controls['au_lname']?.errors?.['required']">Last Name is required.</ng-container>
        </mat-error>
      </mat-form-field>

      <mat-form-field appearance="fill">
        <mat-label>First Name</mat-label>
        <input matInput formControlName="au_fname">
        <mat-error *ngIf="addAuthorForm.controls['au_fname'].invalid && (addAuthorForm.controls['au_fname'].dirty || addAuthorForm.controls['au_fname'].touched)">
          <ng-container *ngIf="addAuthorForm.controls['au_fname']?.errors?.['required']">First Name is required.</ng-container>
        </mat-error>
      </mat-form-field>
    
    <mat-form-field appearance="fill">
        <mat-label>Phone</mat-label>
        <input matInput formControlName="phone" maxlength="12">
        <mat-error *ngIf="addAuthorForm.controls['phone'].invalid && (addAuthorForm.controls['phone'].dirty || addAuthorForm.controls['phone'].touched)">
        <ng-container *ngIf="addAuthorForm.controls['phone']?.errors?.['required']">Phone is required.</ng-container>
        <ng-container *ngIf="addAuthorForm.controls['phone']?.errors?.['maxlength']">Phone must be a maximum of 12 characters long.</ng-container>
        </mat-error>
    </mat-form-field>

    <mat-form-field appearance="fill">
        <mat-label>Address</mat-label>
        <input matInput formControlName="address">
    </mat-form-field>

    <mat-form-field appearance="fill">
        <mat-label>City</mat-label>
        <input matInput formControlName="city">
      </mat-form-field>
    
      <mat-form-field appearance="fill">
        <mat-label>State</mat-label>
        <input matInput formControlName="state" maxlength="2">
        <mat-error *ngIf="addAuthorForm.controls['state'].invalid && (addAuthorForm.controls['state'].dirty || addAuthorForm.controls['state'].touched)">
          <ng-container *ngIf="addAuthorForm.controls['state']?.errors?.['maxlength']">State must be 2 characters long.</ng-container>
        </mat-error>
      </mat-form-field>

      <mat-form-field appearance="fill">
        <mat-label>Zip</mat-label>
        <input matInput formControlName="zip" maxlength="5" [pattern]="'[0-9]{5}'">
        <mat-error *ngIf="addAuthorForm.controls['zip'].invalid && (addAuthorForm.controls['zip'].dirty || addAuthorForm.controls['zip'].touched)">
          <ng-container *ngIf="addAuthorForm.controls['zip']?.errors?.['pattern']">Zip must be a 5-digit number.</ng-container>
        </mat-error>
      </mat-form-field>
    
      <div>
        <label for="contract">Contract:</label>
        <input type="checkbox" id="contract" formControlName="contract">
        <div *ngIf="addAuthorForm.controls['contract'].invalid && (addAuthorForm.controls['contract'].dirty || addAuthorForm.controls['contract'].touched)">
          <div *ngIf="addAuthorForm.controls['contract']?.errors?.['required']" class="error-message">Contract is required.</div>
        </div>
      </div>
      <button type="submit">Save</button>
</form>

